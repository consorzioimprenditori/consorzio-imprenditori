<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consorzio Imprenditori</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .app-container {
            width: 95%;
            max-width: 1200px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 15px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2c3e50;
            font-size: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .user-info {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 12px;
        }

        .nav-input {
            display: none;
        }

        .page {
            display: none;
        }

        #login:checked ~ .pages #loginPage,
        #admin-dashboard:checked ~ .pages #adminDashboardPage,
        #member-dashboard:checked ~ .pages #memberDashboardPage,
        #consulente-dashboard:checked ~ .pages #consulenteDashboardPage,
        #admin-agenda:checked ~ .pages #adminAgendaPage,
        #admin-membri:checked ~ .pages #adminMembriPage,
        #admin-consulenti:checked ~ .pages #adminConsulentiPage,
        #admin-consulenze:checked ~ .pages #adminConsulenzePage,
        #admin-nuovo-evento:checked ~ .pages #adminNuovoEventoPage,
        #admin-nuovo-membro:checked ~ .pages #adminNuovoMembroPage,
        #admin-nuovo-consulente:checked ~ .pages #adminNuovoConsulentePage,
        #member-agenda:checked ~ .pages #memberAgendaPage,
        #consulente-consulenze:checked ~ .pages #consulenteConsulenzePage,
        #albo:checked ~ .pages #alboPage,
        #bacheca:checked ~ .pages #bachecaPage,
        #video:checked ~ .pages #videoPage,
        #convenzioni:checked ~ .pages #convenzioniPage,
        #consulenti:checked ~ .pages #consulentiPage,
        #progetti:checked ~ .pages #progettiPage {
            display: block;
        }

        .nav-btn {
            background: linear-gradient(135deg, #555, #666);
            color: white;
            padding: 25px 15px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            text-decoration: none;
            display: block;
        }

        .nav-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }

        .nav-btn.admin {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .nav-btn.member {
            background: linear-gradient(135deg, #27ae60, #229954);
        }

        .nav-btn.consulente {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .notification-dot {
            position: absolute;
            top: 10px;
            right: 10px;
            min-width: 18px;
            height: 18px;
            background: #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 11px;
            font-weight: bold;
            border: 2px solid white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .card-icon {
            font-size: 24px;
            margin-bottom: 10px;
            display: block;
        }

        .card-title {
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .action-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .action-btn.blue {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .action-btn.red {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .action-btn.orange {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .action-btn.purple {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .whatsapp-btn {
            background: #25d366;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            font-size: 12px;
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }

        .main-content {
            padding: 25px;
        }

        .page-content {
            padding: 25px;
        }

        .notification-item {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .member-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #3498db;
        }

        .consulente-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .consulenza-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #f39c12;
        }

        .event-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .event-date {
            background: #3498db;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
        }

        .stats-box {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .admin-stats-box {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .member-stats-box {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .consulente-stats-box {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .login-container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .login-tabs {
            display: flex;
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
        }

        .login-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .login-tab.admin {
            background: #e74c3c;
            color: white;
        }

        .login-tab.member {
            background: #27ae60;
            color: white;
        }

        .login-tab.consulente {
            background: #9b59b6;
            color: white;
        }

        .login-tab.active {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .login-form {
            display: none;
        }

        .login-form.active {
            display: block;
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
        }

        .status-active {
            background: #27ae60;
            color: white;
        }

        .status-pending {
            background: #f39c12;
            color: white;
        }

        .status-suspended {
            background: #e74c3c;
            color: white;
        }

        .status-confirmed {
            background: #27ae60;
            color: white;
        }

        .status-cancelled {
            background: #e74c3c;
            color: white;
        }

        .impersonate-btn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
            transition: all 0.3s;
        }

        .specializzazione-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
        }
    </style>
    <script>
        // Sistema di autenticazione e ruoli
        let currentUser = null;
        let isImpersonating = false;
        let originalUser = null;

        // Utenti predefiniti
        const users = {
            admin: {
                email: 'admin@consorzio.it',
                password: 'admin123',
                role: 'admin',
                name: 'Amministratore Consorzio',
                company: 'Direzione Generale'
            },
            member1: {
                email: 'rossi@rossisrl.it',
                password: 'member123',
                role: 'member',
                name: 'Marco Rossi',
                company: 'Rossi SRL',
                status: 'active',
                joinDate: '2024-01-15',
                phone: '+39 348 1234567',
                city: 'Milano'
            },
            member2: {
                email: 'bianchi@bianchiconsulting.it',
                password: 'member123',
                role: 'member',
                name: 'Laura Bianchi',
                company: 'Bianchi Consulting',
                status: 'active',
                joinDate: '2024-02-20',
                phone: '+39 347 9876543',
                city: 'Roma'
            },
            cons1: {
                email: 'maria.bianchi@consorzio.it',
                password: 'cons123',
                role: 'consulente',
                name: 'Dott.ssa Maria Bianchi',
                specializzazione: 'Seo e posizionamento siti',
                phone: '+39 072 1840410',
                status: 'active'
            },
            cons2: {
                email: 'andrea.rossi@consorzio.it',
                password: 'cons123',
                role: 'consulente',
                name: 'Ing. Andrea Rossi',
                specializzazione: 'e.r.p e gestionali aziendali',
                phone: '+39 072 1840410',
                status: 'active'
            }
        };

        // Consulenti del consorzio con nuove specializzazioni
        let consulenti = {
            cons1: {
                id: 'cons1',
                name: 'Dott.ssa Maria Bianchi',
                specializzazione: 'Seo e posizionamento siti',
                categoria: 'marketing',
                qualifiche: 'Google Ads Certified, 15 anni esperienza',
                descrizione: 'Specialista in SEO, Google Ads, posizionamento siti web per PMI.',
                disponibilita: '25 Set, 2 Ott',
                phone: '+39 072 1840410',
                email: 'maria.bianchi@consorzio.it'
            },
            cons2: {
                id: 'cons2',
                name: 'Ing. Andrea Rossi',
                specializzazione: 'e.r.p e gestionali aziendali',
                categoria: 'tecnologia',
                qualifiche: 'Ingegnere Informatico, Microsoft Certified, 12 anni',
                descrizione: 'Gestionali aziendali ERP, sviluppo App, siti web, cyber sicurezza.',
                disponibilita: '25 Set, 15 Ott',
                phone: '+39 072 1840410',
                email: 'andrea.rossi@consorzio.it'
            },
            cons3: {
                id: 'cons3',
                name: 'Dott. Luca Verdi',
                specializzazione: 'finanza agevolata',
                categoria: 'finanza',
                qualifiche: 'Dottore Commercialista, esperto bandi UE, 18 anni',
                descrizione: 'Bandi europei, finanziamenti agevolati, controllo di gestione.',
                disponibilita: '2 Ott, 15 Ott',
                phone: '+39 072 1840410',
                email: 'luca.verdi@consorzio.it'
            },
            cons4: {
                id: 'cons4',
                name: 'Avv. Sara Neri',
                specializzazione: 'consulenza legale d\'impresa',
                categoria: 'legale',
                qualifiche: 'Avvocato specializzato in diritto commerciale, 10 anni',
                descrizione: 'Consulenza contrattuale, diritto del lavoro, controversie legali.',
                disponibilita: '25 Set, 2 Ott',
                phone: '+39 072 1840410',
                email: 'sara.neri@consorzio.it'
            }
        };

        // Sistema di consulenze
        let consulenze = [
            {
                id: 1,
                clienteName: 'Marco Rossi',
                clienteAzienda: 'Rossi SRL',
                consulenteId: 'cons1',
                consulenteName: 'Dott.ssa Maria Bianchi',
                specializzazione: 'Seo e posizionamento siti',
                dataRichiesta: '2025-08-18',
                dataConsulenza: '2025-08-25',
                orario: '10:00',
                status: 'pending',
                note: 'Richiesta ottimizzazione SEO per nuovo sito web'
            },
            {
                id: 2,
                clienteName: 'Laura Bianchi',
                clienteAzienda: 'Bianchi Consulting',
                consulenteId: 'cons2',
                consulenteName: 'Ing. Andrea Rossi',
                specializzazione: 'e.r.p e gestionali aziendali',
                dataRichiesta: '2025-08-17',
                dataConsulenza: '2025-08-26',
                orario: '14:30',
                status: 'confirmed',
                note: 'Implementazione nuovo gestionale aziendale'
            }
        ];

        // Eventi del consorzio
        let events = [
            {
                id: 1,
                title: 'Assemblea Generale',
                date: '2025-09-25',
                time: '10:00',
                location: 'Sala conferenze',
                description: 'Discussione bilancio 2025 e strategie di crescita',
                participants: 12,
                createdBy: 'admin'
            },
            {
                id: 2,
                title: 'Workshop Innovazione Digitale',
                date: '2025-10-02',
                time: '15:00',
                location: 'Sede del Consorzio',
                description: 'Seminario su digitalizzazione aziendale e nuove tecnologie',
                participants: 8,
                createdBy: 'admin'
            }
        ];

        // Specializzazioni definitive
        const specializzazioni = [
            'finanza agevolata',
            'consulenza legale d\'impresa',
            'cyber sicurezza',
            'e.r.p e gestionali aziendali',
            'creazione app e siti',
            'export manager',
            'controllo di gestione',
            'efficientamento energetico',
            'noleggio stampanti',
            'noleggio mezzi e auto a lungo termine',
            'polizze assicurative aziendali',
            'gestione contabile e tributaria',
            'fiscalità energetica',
            'antincendio e segnaletica aziendale, sicurezza macchinari, laboratorio test elettrici ed elettromagnetici',
            'medicina del lavoro',
            'igiene e sicurezza luoghi di lavoro',
            'Seo e posizionamento siti',
            'stampa digitale',
            'agenzia di comunicazione',
            'creazione eventi aziendali'
        ];

        function switchLoginTab(tab) {
            document.querySelectorAll('.login-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.login-form').forEach(f => f.classList.remove('active'));
            
            document.querySelector(`.login-tab.${tab}`).classList.add('active');
            document.querySelector(`#${tab}Form`).classList.add('active');
        }

        function login(role) {
            const email = document.getElementById(`${role}Email`).value;
            const password = document.getElementById(`${role}Password`).value;
            
            const user = Object.values(users).find(u => u.email === email && u.password === password && u.role === role);
            
            if (user) {
                currentUser = user;
                if (role === 'admin') {
                    document.getElementById('admin-dashboard').checked = true;
                } else if (role === 'member') {
                    document.getElementById('member-dashboard').checked = true;
                } else if (role === 'consulente') {
                    document.getElementById('consulente-dashboard').checked = true;
                }
                updateUserInfo();
                showNotification(`✅ Accesso effettuato come ${user.name}`, 'success');
            } else {
                showNotification('❌ Credenziali non valide', 'error');
            }
        }

        function updateUserInfo() {
            const userInfoElements = document.querySelectorAll('.user-info');
            userInfoElements.forEach(el => {
                if (isImpersonating && originalUser) {
                    el.innerHTML = `👤 ${currentUser.name} (👁️ Impersonificato da ${originalUser.name})`;
                } else {
                    const roleText = currentUser.role === 'admin' ? 'Admin' : 
                                   currentUser.role === 'member' ? 'Membro' : 'Consulente';
                    el.innerHTML = `👤 ${currentUser.name} (${roleText})`;
                }
            });
        }

        function logout() {
            currentUser = null;
            isImpersonating = false;
            originalUser = null;
            document.getElementById('login').checked = true;
            showNotification('👋 Disconnesso con successo', 'success');
        }

        function prenotaConsulenza(consulenteId, consulenteName, specializzazione) {
            if (!currentUser || currentUser.role !== 'member') {
                showNotification('⚠️ Devi essere loggato come membro per prenotare', 'warning');
                return;
            }

            const data = prompt('📅 Inserisci la data desiderata (YYYY-MM-DD):');
            const orario = prompt('🕙 Inserisci l\'orario desiderato (HH:MM):');
            const note = prompt('📝 Note aggiuntive (opzionale):') || '';

            if (!data || !orario) {
                showNotification('❌ Data e orario sono obbligatori', 'error');
                return;
            }

            const nuovaConsulenza = {
                id: Date.now(),
                clienteName: currentUser.name,
                clienteAzienda: currentUser.company,
                consulenteId: consulenteId,
                consulenteName: consulenteName,
                specializzazione: specializzazione,
                dataRichiesta: new Date().toISOString().split('T')[0],
                dataConsulenza: data,
                orario: orario,
                status: 'pending',
                note: note
            };

            consulenze.push(nuovaConsulenza);
            
            showNotification(`✅ Consulenza prenotata con ${consulenteName} per il ${data} alle ${orario}`, 'success');
            
            // Notifica admin
            setTimeout(() => {
                showNotification('📧 Notifica inviata agli amministratori', 'success');
            }, 1000);
        }

        function confermaConsulenza(consulenzaId) {
            const consulenza = consulenze.find(c => c.id === consulenzaId);
            if (consulenza && currentUser.role === 'consulente') {
                consulenza.status = 'confirmed';
                showNotification('✅ Consulenza confermata', 'success');
                loadConsulentiConsulenze();
            }
        }

        function rifiutaConsulenza(consulenzaId) {
            const consulenza = consulenze.find(c => c.id === consulenzaId);
            if (consulenza && currentUser.role === 'consulente') {
                consulenza.status = 'cancelled';
                showNotification('❌ Consulenza rifiutata', 'success');
                loadConsulentiConsulenze();
            }
        }

        function loadConsulentiConsulenze() {
            const container = document.getElementById('consulenteConsulenzePage');
            if (!container) return;

            const myConsulenze = consulenze.filter(c => c.consulenteName === currentUser.name);
            const consulenzeContainer = document.getElementById('consulenzeConsulente');
            
            if (consulenzeContainer) {
                consulenzeContainer.innerHTML = '';
                
                myConsulenze.forEach(consulenza => {
                    const statusClass = consulenza.status === 'confirmed' ? 'status-confirmed' : 
                                       consulenza.status === 'cancelled' ? 'status-cancelled' : 'status-pending';
                    
                    consulenzeContainer.innerHTML += `
                        <div class="consulenza-card">
                            <div style="display: flex; justify-content: between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="flex: 1;">
                                    <h3 style="color: #2c3e50; margin-bottom: 5px;">${consulenza.clienteName}</h3>
                                    <p style="color: #7f8c8d; margin-bottom: 5px;">${consulenza.clienteAzienda}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">📅 ${consulenza.dataConsulenza} alle ${consulenza.orario}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">📝 ${consulenza.note}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">🎯 ${consulenza.specializzazione}</p>
                                </div>
                                <div style="text-align: right;">
                                    <span class="status-badge ${statusClass}">${consulenza.status.toUpperCase()}</span>
                                </div>
                            </div>
                            
                            ${consulenza.status === 'pending' ? `
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="action-btn" onclick="confermaConsulenza(${consulenza.id})">✅ Conferma</button>
                                <button class="action-btn red" onclick="rifiutaConsulenza(${consulenza.id})">❌ Rifiuta</button>
                            </div>
                            ` : ''}
                        </div>
                    `;
                });
            }
        }

        function loadAdminConsulenze() {
            const container = document.getElementById('adminConsulenze');
            if (!container) return;

            container.innerHTML = '';
            
            consulenze.forEach(consulenza => {
                const statusClass = consulenza.status === 'confirmed' ? 'status-confirmed' : 
                                   consulenza.status === 'cancelled' ? 'status-cancelled' : 'status-pending';
                
                container.innerHTML += `
                    <div class="consulenza-card">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                            <div style="flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 5px;">${consulenza.clienteName} → ${consulenza.consulenteName}</h3>
                                <p style="color: #7f8c8d; margin-bottom: 5px;">${consulenza.clienteAzienda}</p>
                                <p style="color: #95a5a6; font-size: 12px;">📅 ${consulenza.dataConsulenza} alle ${consulenza.orario}</p>
                                <p style="color: #95a5a6; font-size: 12px;">📝 ${consulenza.note}</p>
                                <p style="color: #95a5a6; font-size: 12px;">🎯 ${consulenza.specializzazione}</p>
                                <p style="color: #95a5a6; font-size: 12px;">📋 Richiesta: ${consulenza.dataRichiesta}</p>
                            </div>
                            <div style="text-align: right;">
                                <span class="status-badge ${statusClass}">${consulenza.status.toUpperCase()}</span>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="action-btn blue" onclick="contatlaConsulente('${consulenza.consulenteId}')">📞 Contatta Consulente</button>
                            <button class="action-btn red" onclick="eliminaConsulenza(${consulenza.id})">🗑️ Elimina</button>
                        </div>
                    </div>
                `;
            });
        }

        function createConsulente() {
            if (currentUser.role !== 'admin') return;
            
            const name = document.getElementById('consulenteName').value;
            const specializzazione = document.getElementById('consulenteSpecializzazione').value;
            const qualifiche = document.getElementById('consulenteQualifiche').value;
            const descrizione = document.getElementById('consulenteDescrizione').value;
            const phone = document.getElementById('consulentePhone').value;
            const email = document.getElementById('consulenteEmail').value;
            
            if (!name || !specializzazione || !descrizione) {
                showNotification('⚠️ Compila tutti i campi obbligatori!', 'warning');
                return;
            }
            
            const consulenteId = 'cons' + Date.now();
            consulenti[consulenteId] = {
                id: consulenteId,
                name: name,
                specializzazione: specializzazione,
                categoria: 'generico',
                qualifiche: qualifiche || '',
                descrizione: descrizione,
                disponibilita: 'Su appuntamento',
                phone: phone || '+39 072 1840410',
                email: email || 'info@consorzio.it'
            };
            
            document.getElementById('consulenteForm').reset();
            showNotification(`🎉 Consulente "${name}" aggiunto con successo!`, 'success');
            updateConsulentiSection();
            
            setTimeout(() => {
                document.getElementById('admin-consulenti').checked = true;
                loadConsulentiPage();
            }, 2000);
        }

        function loadConsulentiPage() {
            const container = document.getElementById('consulentiContainer');
            if (!container) return;
            
            container.innerHTML = '';
            
            Object.entries(consulenti).forEach(([key, consulente]) => {
                container.innerHTML += `
                    <div class="consulente-card" style="border-top: 4px solid #9b59b6;">
                        <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                            <div style="width: 60px; height: 60px; border-radius: 10px; background: linear-gradient(135deg, #9b59b6, #8e44ad); display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: bold;">${consulente.name.charAt(0)}</div>
                            <div style="flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 5px; font-size: 16px;">${consulente.name}</h3>
                                <div class="specializzazione-badge">${consulente.specializzazione}</div>
                                <p style="color: #7f8c8d; font-size: 12px; margin-bottom: 3px;">${consulente.qualifiche}</p>
                                <p style="color: #95a5a6; font-size: 12px;">📞 ${consulente.phone}</p>
                                <p style="color: #95a5a6; font-size: 12px;">📧 ${consulente.email}</p>
                            </div>
                        </div>
                        
                        <div style="background: #9b59b615; padding: 10px; border-radius: 8px; border-left: 4px solid #9b59b6; margin-bottom: 15px; font-size: 13px;">
                            ${consulente.descrizione}
                        </div>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="action-btn blue" onclick="editConsulente('${key}')">✏️ Modifica</button>
                            <button class="action-btn red" onclick="deleteConsulente('${key}')">🗑️ Elimina</button>
                            <a href="https://wa.me/${consulente.phone.replace(/[^0-9]/g, '')}?text=Ciao,%20vorrei%20una%20consulenza%20con%20${encodeURIComponent(consulente.name)}" class="whatsapp-btn">💬 WhatsApp</a>
                        </div>
                    </div>
                `;
            });
        }

        function updateConsulentiSection() {
            const publicContainer = document.getElementById('publicConsulentiContainer');
            if (publicContainer) {
                publicContainer.innerHTML = '';
                
                Object.entries(consulenti).forEach(([key, consulente]) => {
                    publicContainer.innerHTML += `
                        <div class="consulente-card" data-specializzazione="${consulente.specializzazione}" style="border-top: 4px solid #9b59b6;">
                            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                <div style="width: 60px; height: 60px; border-radius: 10px; background: linear-gradient(135deg, #9b59b6, #8e44ad); display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: bold;">${consulente.name.charAt(0)}</div>
                                <div style="flex: 1;">
                                    <h3 style="color: #2c3e50; margin-bottom: 5px; font-size: 16px;">${consulente.name}</h3>
                                    <div class="specializzazione-badge">${consulente.specializzazione}</div>
                                    <p style="color: #7f8c8d; font-size: 12px; margin-bottom: 3px;">${consulente.qualifiche}</p>
                                    <p style="color: #34495e; font-size: 12px;">📅 Disponibile: ${consulente.disponibilita}</p>
                                </div>
                            </div>
                            
                            <div style="background: #9b59b615; padding: 10px; border-radius: 8px; border-left: 4px solid #9b59b6; margin-bottom: 15px; font-size: 13px;">
                                ${consulente.descrizione}
                            </div>
                            
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="action-btn" onclick="prenotaConsulenza('${key}', '${consulente.name}', '${consulente.specializzazione}')">📅 Prenota Consulenza</button>
                                <a href="https://wa.me/${consulente.phone.replace(/[^0-9]/g, '')}?text=Vorrei%20prenotare%20consulenza%20con%20${encodeURIComponent(consulente.name)}" class="whatsapp-btn">💬 WhatsApp</a>
                            </div>
                        </div>
                    `;
                });
            }
        }

        function filtraConsulenti() {
            const filtro = document.getElementById('filtroSpecializzazione').value;
            const consulenti = document.querySelectorAll('[data-specializzazione]');
            
            consulenti.forEach(card => {
                if (filtro === '' || card.dataset.specializzazione === filtro) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function deleteConsulente(consulenteId) {
            if (currentUser.role !== 'admin') return;
            
            if (confirm(`Sei sicuro di voler eliminare ${consulenti[consulenteId].name}?`)) {
                delete consulenti[consulenteId];
                showNotification('🗑️ Consulente eliminato con successo', 'success');
                loadConsulentiPage();
                updateConsulentiSection();
            }
        }

        function showNotification(message, type) {
            const colors = {
                success: '#27ae60',
                error: '#e74c3c',
                warning: '#f39c12'
            };
            
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; 
                top: 20px; 
                right: 20px; 
                background: ${colors[type]}; 
                color: white; 
                padding: 15px; 
                border-radius: 10px; 
                z-index: 1000; 
                animation: slideIn 0.5s ease;
                max-width: 300px;
                font-size: 14px;
            `;
            notification.innerHTML = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Funzioni placeholder per completezza
        function loadMembersPage() { /* implementazione esistente */ }
        function createMember() { /* implementazione esistente */ }
        function createEvent() { /* implementazione esistente */ }
        function loadAdminAgenda() { /* implementazione esistente */ }
        function loadMemberAgenda() { /* implementazione esistente */ }

        // Inizializza la pagina
        window.onload = function() {
            switchLoginTab('admin');
            updateConsulentiSection();
            
            // Popola select specializzazioni
            const select = document.getElementById('consulenteSpecializzazione');
            if (select) {
                specializzazioni.forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec;
                    option.textContent = spec;
                    select.appendChild(option);
                });
            }

            // Popola filtro specializzazioni
            const filtroSelect = document.getElementById('filtroSpecializzazione');
            if (filtroSelect) {
                specializzazioni.forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec;
                    option.textContent = spec;
                    filtroSelect.appendChild(option);
                });
            }
        };
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Navigation Inputs -->
        <input type="radio" name="nav" id="login" class="nav-input" checked>
        <input type="radio" name="nav" id="admin-dashboard" class="nav-input">
        <input type="radio" name="nav" id="member-dashboard" class="nav-input">
        <input type="radio" name="nav" id="consulente-dashboard" class="nav-input">
        <input type="radio" name="nav" id="admin-agenda" class="nav-input">
        <input type="radio" name="nav" id="admin-membri" class="nav-input">
        <input type="radio" name="nav" id="admin-consulenti" class="nav-input">
        <input type="radio" name="nav" id="admin-consulenze" class="nav-input">
        <input type="radio" name="nav" id="admin-nuovo-evento" class="nav-input">
        <input type="radio" name="nav" id="admin-nuovo-membro" class="nav-input">
        <input type="radio" name="nav" id="admin-nuovo-consulente" class="nav-input">
        <input type="radio" name="nav" id="member-agenda" class="nav-input">
        <input type="radio" name="nav" id="consulente-consulenze" class="nav-input">
        <input type="radio" name="nav" id="albo" class="nav-input">
        <input type="radio" name="nav" id="bacheca" class="nav-input">
        <input type="radio" name="nav" id="video" class="nav-input">
        <input type="radio" name="nav" id="convenzioni" class="nav-input">
        <input type="radio" name="nav" id="consulenti" class="nav-input">
        <input type="radio" name="nav" id="progetti" class="nav-input">

        <div class="pages">
            <!-- Login Page -->
            <div id="loginPage" class="page">
                <div class="header">
                    <div class="logo">🏢</div>
                    <h1>Consorzio Imprenditori</h1>
                    <p>Riuniamo imprenditori allo scopo di collaborare e crescere insieme</p>
                </div>
                
                <div class="login-container">
                    <h2 style="text-align: center; margin-bottom: 25px; color: #2c3e50;">Accedi al Consorzio</h2>
                    
                    <div class="login-tabs">
                        <div class="login-tab admin" onclick="switchLoginTab('admin')">
                            🔐 ADMIN
                        </div>
                        <div class="login-tab member" onclick="switchLoginTab('member')">
                            👥 MEMBRI
                        </div>
                        <div class="login-tab consulente" onclick="switchLoginTab('consulente')">
                            💼 CONSULENTI
                        </div>
                    </div>

                    <!-- Admin Login Form -->
                    <div id="adminForm" class="login-form">
                        <div class="form-group">
                            <label>Email Amministratore</label>
                            <input type="email" id="adminEmail" value="admin@consorzio.it">
                        </div>
                        
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="adminPassword" value="admin123">
                        </div>
                        
                        <button class="btn" onclick="login('admin')" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">🔑 ACCESSO AMMINISTRATORE</button>
                    </div>

                    <!-- Member Login Form -->
                    <div id="memberForm" class="login-form">
                        <div class="form-group">
                            <label>Email Membro</label>
                            <input type="email" id="memberEmail" value="rossi@rossisrl.it">
                        </div>
                        
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="memberPassword" value="member123">
                        </div>
                        
                        <button class="btn" onclick="login('member')" style="background: linear-gradient(135deg, #27ae60, #229954);">🔑 ACCESSO MEMBRO</button>
                    </div>

                    <!-- Consulente Login Form -->
                    <div id="consulenteForm" class="login-form">
                        <div class="form-group">
                            <label>Email Consulente</label>
                            <input type="email" id="consulenteEmail" value="maria.bianchi@consorzio.it">
                        </div>
                        
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="consulentePassword" value="cons123">
                        </div>
                        
                        <button class="btn" onclick="login('consulente')" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">🔑 ACCESSO CONSULENTE</button>
                    </div>
                    
                    <div style="background: #e8f5e8; padding: 12px; margin-top: 15px; border-radius: 8px; border-left: 4px solid #3498db;">
                        <h4 style="color: #2c3e50; margin-bottom: 8px;">🎯 Sistema Completo a 3 Livelli</h4>
                        <p style="color: #34495e; font-size: 12px;">✅ Admin: Gestione totale + controllo consulenze</p>
                        <p style="color: #34495e; font-size: 12px;">✅ Membri: Prenotazione consulenze + accesso servizi</p>
                        <p style="color: #34495e; font-size: 12px;">✅ Consulenti: Conferma/rifiuta consulenze</p>
                    </div>
                </div>
            </div>

            <!-- Admin Dashboard Page -->
            <div id="adminDashboardPage" class="page">
                <div class="header">
                    <button onclick="logout()" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">Logout</button>
                    <div class="user-info">👤 Amministratore</div>
                    <div class="logo">🔐</div>
                    <h1>Dashboard Amministratori</h1>
                    <p>Pannello di controllo completo del Consorzio</p>
                </div>

                <div class="main-content">
                    <div class="admin-stats-box">
                        <h2 style="margin-bottom: 10px;">🔐 Controllo Totale Consorzio</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">3</div><div style="font-size: 11px;">Membri</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">4</div><div style="font-size: 11px;">Consulenti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;" id="totalConsulenze">2</div><div style="font-size: 11px;">Consulenze</div></div>
                        </div>
                    </div>
                    
                    <div class="dashboard-grid">
                        <label for="admin-agenda" class="nav-btn admin">
                            <div class="card-icon">📅</div>
                            <div class="card-title">GESTIONE AGENDA</div>
                        </label>

                        <label for="admin-membri" class="nav-btn admin">
                            <div class="card-icon">👥</div>
                            <div class="card-title">GESTIONE MEMBRI</div>
                        </label>

                        <label for="admin-consulenti" class="nav-btn admin">
                            <div class="card-icon">💼</div>
                            <div class="card-title">GESTIONE CONSULENTI</div>
                        </label>

                        <label for="admin-consulenze" class="nav-btn admin">
                            <div class="notification-dot">2</div>
                            <div class="card-icon">📋</div>
                            <div class="card-title">CONSULENZE</div>
                        </label>

                        <label for="albo" class="nav-btn admin">
                            <div class="card-icon">📋</div>
                            <div class="card-title">ALBO ISCRITTI</div>
                        </label>

                        <label for="convenzioni" class="nav-btn admin">
                            <div class="card-icon">🤝</div>
                            <div class="card-title">CONVENZIONI</div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Member Dashboard Page -->
            <div id="memberDashboardPage" class="page">
                <div class="header">
                    <button onclick="logout()" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">🔙 Esci</button>
                    <div class="user-info">👤 Membro</div>
                    <div class="logo">👥</div>
                    <h1>Dashboard Membri</h1>
                    <p>Benvenuto nella piattaforma riservata ai membri</p>
                </div>

                <div class="main-content">
                    <div class="member-stats-box">
                        <h2 style="margin-bottom: 10px;">👥 Area Riservata Membri</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">2</div><div style="font-size: 11px;">Eventi</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">20</div><div style="font-size: 11px;">Specializzazioni</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">10</div><div style="font-size: 11px;">Consulenze Incluse</div></div>
                        </div>
                    </div>
                    
                    <div class="dashboard-grid">
                        <label for="member-agenda" class="nav-btn member">
                            <div class="card-icon">📅</div>
                            <div class="card-title">AGENDA EVENTI</div>
                        </label>

                        <label for="consulenti" class="nav-btn member">
                            <div class="card-icon">💼</div>
                            <div class="card-title">CONSULENTI</div>
                        </label>

                        <label for="albo" class="nav-btn member">
                            <div class="card-icon">📋</div>
                            <div class="card-title">ALBO MEMBRI</div>
                        </label>

                        <label for="convenzioni" class="nav-btn member">
                            <div class="card-icon">🤝</div>
                            <div class="card-title">CONVENZIONI</div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Consulente Dashboard Page -->
            <div id="consulenteDashboardPage" class="page">
                <div class="header">
                    <button onclick="logout()" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">🔙 Esci</button>
                    <div class="user-info">👤 Consulente</div>
                    <div class="logo">💼</div>
                    <h1>Dashboard Consulenti</h1>
                    <p>Gestisci le tue consulenze e appuntamenti</p>
                </div>

                <div class="main-content">
                    <div class="consulente-stats-box">
                        <h2 style="margin-bottom: 10px;">💼 Area Riservata Consulenti</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">Consulenze Pending</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">Confermate</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">0</div><div style="font-size: 11px;">Rifiutate</div></div>
                        </div>
                    </div>
                    
                    <div class="dashboard-grid">
                        <label for="consulente-consulenze" class="nav-btn consulente">
                            <div class="notification-dot">1</div>
                            <div class="card-icon">📋</div>
                            <div class="card-title">LE MIE CONSULENZE</div>
                        </label>

                        <label for="albo" class="nav-btn consulente">
                            <div class="card-icon">👥</div>
                            <div class="card-title">MEMBRI CONSORZIO</div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Admin Consulenze Page -->
            <div id="adminConsulenzePage" class="page">
                <div class="header">
                    <label for="admin-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Dashboard</label>
                    <div class="user-info">👤 Admin</div>
                    <div class="logo">📋</div>
                    <h1>Gestione Consulenze (Admin)</h1>
                </div>
                <div class="page-content">
                    <div class="admin-stats-box">
                        <h2 style="margin-bottom: 10px;">📋 Controllo Totale Consulenze</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">2</div><div style="font-size: 11px;">Consulenze Totali</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">In Attesa</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">Confermate</div></div>
                        </div>
                    </div>

                    <button class="action-btn blue" onclick="loadAdminConsulenze()" style="margin-bottom: 20px;">🔄 Aggiorna Lista</button>
                    
                    <div id="adminConsulenze">
                        <!-- Le consulenze vengono caricate dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Consulente Consulenze Page -->
            <div id="consulenteConsulenzePage" class="page">
                <div class="header">
                    <label for="consulente-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Dashboard</label>
                    <div class="user-info">👤 Consulente</div>
                    <div class="logo">📋</div>
                    <h1>Le Mie Consulenze</h1>
                </div>
                <div class="page-content">
                    <div class="consulente-stats-box">
                        <h2 style="margin-bottom: 10px;">📋 Le Tue Consulenze</h2>
                        <p style="font-size: 14px;">Conferma o rifiuta le richieste di consulenza dei membri</p>
                    </div>

                    <button class="action-btn blue" onclick="loadConsulentiConsulenze()" style="margin-bottom: 20px;">🔄 Aggiorna Lista</button>
                    
                    <div id="consulenzeConsulente">
                        <!-- Le consulenze vengono caricate dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Admin Nuovo Consulente Page -->
            <div id="adminNuovoConsulentePage" class="page">
                <div class="header">
                    <label for="admin-consulenti" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Consulenti</label>
                    <div class="user-info">👤 Admin</div>
                    <div class="logo">🆕</div>
                    <h1>Aggiungi Nuovo Consulente</h1>
                </div>
                <div class="page-content">
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
                        <h2 style="color: #2c3e50; margin-bottom: 20px; text-align: center; font-size: 20px;">💼 Registra Nuovo Consulente</h2>
                        
                        <form id="consulenteForm">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>👤 Nome Completo</label>
                                    <input type="text" id="consulenteName" placeholder="Es: Dott. Mario Rossi" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>🎯 Specializzazione</label>
                                    <select id="consulenteSpecializzazione" required>
                                        <option value="">Seleziona specializzazione</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>🎓 Qualifiche</label>
                                <input type="text" id="consulenteQualifiche" placeholder="Es: MBA, Certificazioni, anni di esperienza">
                            </div>
                            
                            <div class="form-group">
                                <label>📝 Descrizione Servizi</label>
                                <textarea id="consulenteDescrizione" placeholder="Descrivi i servizi offerti dal consulente..." style="min-height: 100px;" required></textarea>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>📞 Telefono</label>
                                    <input type="tel" id="consulentePhone" placeholder="+39 072 1840410">
                                </div>
                                
                                <div class="form-group">
                                    <label>📧 Email</label>
                                    <input type="email" id="consulenteEmail" placeholder="consulente@consorzio.it">
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                                <button type="button" onclick="createConsulente()" class="action-btn">✅ Aggiungi Consulente</button>
                                <label for="admin-consulenti" class="action-btn" style="background: linear-gradient(135deg, #95a5a6, #7f8c8d); cursor: pointer;">❌ Annulla</label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Admin Consulenti Page -->
            <div id="adminConsulentiPage" class="page">
                <div class="header">
                    <label for="admin-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Dashboard</label>
                    <div class="user-info">👤 Admin</div>
                    <div class="logo">💼</div>
                    <h1>Gestione Consulenti (Admin)</h1>
                </div>
                <div class="page-content">
                    <div class="admin-stats-box">
                        <h2 style="margin-bottom: 10px;">💼 Controllo Totale Consulenti</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">4</div><div style="font-size: 11px;">Consulenti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">20</div><div style="font-size: 11px;">Specializzazioni</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">2</div><div style="font-size: 11px;">Consulenze Attive</div></div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label for="admin-nuovo-consulente" class="action-btn">🆕 Aggiungi Nuovo Consulente</label>
                        <button class="action-btn blue" onclick="loadConsulentiPage()">🔄 Aggiorna Lista</button>
                    </div>
                    
                    <div id="consulentiContainer">
                        <!-- I consulenti vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Consulenti Page (Pubblica) -->
            <div id="consulentiPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : currentUser && currentUser.role === 'consulente' ? (document.getElementById('consulente-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Dashboard</button>
                    <div class="user-info">👤 User</div>
                    <div class="logo">💼</div>
                    <h1>Consulenti del Consorzio</h1>
                </div>
                <div class="page-content">
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center; margin-bottom: 20px; border: 2px solid #9b59b6;">
                        <h3 style="color: #9b59b6; margin-bottom: 10px;">📞 Contatto Diretto Consorzio</h3>
                        <div style="font-size: 20px; font-weight: bold; color: #2c3e50; margin: 8px 0;">0721 - 1840410</div>
                        <p style="margin: 0; font-size: 12px;">Per informazioni generali e assistenza immediata</p>
                    </div>

                    <div class="stats-box">
                        <h2 style="margin-bottom: 10px;">💼 Network Consulenti Specializzati</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">4</div><div style="font-size: 11px;">Consulenti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">10</div><div style="font-size: 11px;">Consulenze Incluse</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">20</div><div style="font-size: 11px;">Specializzazioni</div></div>
                        </div>
                    </div>

                    <div class="notification-item">
                        <strong>✨ Novità:</strong> 10 consulenze iniziali gratuite incluse nella tessera annuale - Prenota durante gli eventi!
                    </div>

                    <!-- Filtro Specializzazioni -->
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">🔍 Filtra per Specializzazione</h4>
                        <select id="filtroSpecializzazione" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 8px;" onchange="filtraConsulenti()">
                            <option value="">Tutte le specializzazioni</option>
                        </select>
                    </div>
                    
                    <div id="publicConsulentiContainer">
                        <!-- I consulenti vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Placeholder per altre pagine -->
            <div id="alboPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : currentUser && currentUser.role === 'consulente' ? (document.getElementById('consulente-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Dashboard</button>
                    <div class="user-info">👤 User</div>
                    <div class="logo">👥</div>
                    <h1>Albo Iscritti</h1>
                </div>
                <div class="page-content">
                    <div class="stats-box">
                        <h2>👥 Directory Aziende Associate</h2>
                        <div style="display: flex; justify-content: center; gap: 30px; margin-top: 15px; flex-wrap: wrap;">
                            <div><div style="font-size: 24px; font-weight: bold;">3</div><div style="font-size: 12px;">Aziende</div></div>
                            <div><div style="font-size: 24px; font-weight: bold;">96</div><div style="font-size: 12px;">Dipendenti</div></div>
                            <div><div style="font-size: 24px; font-weight: bold;">€9.3M</div><div style="font-size: 12px;">Fatturato</div></div>
                        </div>
                    </div>

                    <div class="card">
                        <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
                            <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #007bff, #0056b3); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 24px;">R</div>
                            <div style="flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 5px;">Rossi SRL - Tecnologia</h3>
                                <p style="color: #6c757d; font-size: 14px;">📍 Milano | 👥 24 dipendenti | €2.1M</p>
                                <p style="color: #6c757d; font-size: 13px;">Sviluppo software, consulenza IT, digitalizzazione processi</p>
                            </div>
                            <a href="https://wa.me/393481234567?text=Ciao,%20sono%20interessato%20ai%20servizi%20di%20Rossi%20SRL" class="whatsapp-btn">💬 WhatsApp</a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="convenzioniPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : currentUser && currentUser.role === 'consulente' ? (document.getElementById('consulente-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">← Dashboard</button>
                    <div class="user-info">👤 User</div>
                    <div class="logo">🤝</div>
                    <h1>Convenzioni</h1>
                </div>
                <div class="page-content">
                    <h2>🤝 Convenzioni - In sviluppo</h2>
                    <p>Questa sezione è in fase di sviluppo.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Carica i dati quando necessario
        setTimeout(() => {
            if (document.getElementById('admin-consulenze').checked) {
                loadAdminConsulenze();
            }
            if (document.getElementById('consulente-consulenze').checked) {
                loadConsulentiConsulenze();
            }
            if (document.getElementById('admin-consulenti').checked) {
                loadConsulentiPage();
            }
        }, 100);
    </script>
</body>
</html>
