<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consorzio Imprenditori</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .app-container {
            width: 95%;
            max-width: 1200px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 15px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2c3e50;
            font-size: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .user-info {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 12px;
        }

        .nav-input {
            display: none;
        }

        .page {
            display: none;
        }

        #login:checked ~ .pages #loginPage,
        #admin-dashboard:checked ~ .pages #adminDashboardPage,
        #member-dashboard:checked ~ .pages #memberDashboardPage,
        #admin-agenda:checked ~ .pages #adminAgendaPage,
        #admin-membri:checked ~ .pages #adminMembriPage,
        #admin-consulenti:checked ~ .pages #adminConsulentiPage,
        #admin-nuovo-evento:checked ~ .pages #adminNuovoEventoPage,
        #admin-nuovo-membro:checked ~ .pages #adminNuovoMembroPage,
        #admin-nuovo-consulente:checked ~ .pages #adminNuovoConsulentePage,
        #member-agenda:checked ~ .pages #memberAgendaPage,
        #albo:checked ~ .pages #alboPage,
        #bacheca:checked ~ .pages #bachecaPage,
        #video:checked ~ .pages #videoPage,
        #convenzioni:checked ~ .pages #convenzioniPage,
        #consulenti:checked ~ .pages #consulentiPage,
        #progetti:checked ~ .pages #progettiPage,
        #nuova-convenzione:checked ~ .pages #nuovaConvenzioneForm {
            display: block;
        }

        .nav-btn {
            background: linear-gradient(135deg, #555, #666);
            color: white;
            padding: 25px 15px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            text-decoration: none;
            display: block;
        }

        .nav-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }

        .nav-btn.admin {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .nav-btn.member {
            background: linear-gradient(135deg, #27ae60, #229954);
        }

        .notification-dot {
            position: absolute;
            top: 10px;
            right: 10px;
            min-width: 18px;
            height: 18px;
            background: #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 11px;
            font-weight: bold;
            border: 2px solid white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .card-icon {
            font-size: 24px;
            margin-bottom: 10px;
            display: block;
        }

        .card-title {
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .action-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .action-btn.blue {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .action-btn.red {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .action-btn.orange {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .action-btn.purple {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .whatsapp-btn {
            background: #25d366;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            font-size: 12px;
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }

        .main-content {
            padding: 25px;
        }

        .page-content {
            padding: 25px;
        }

        .back-btn {
            background: #95a5a6;
            color: white;
            margin-bottom: 15px;
            padding: 6px 12px;
            border-radius: 15px;
            text-decoration: none;
            display: inline-block;
            font-size: 12px;
        }

        .notification-item {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .member-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #3498db;
        }

        .member-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .consulente-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .consulente-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .event-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .event-date {
            background: #3498db;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
        }

        .stats-box {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .admin-stats-box {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .member-stats-box {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .login-container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .login-tabs {
            display: flex;
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
        }

        .login-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .login-tab.admin {
            background: #e74c3c;
            color: white;
        }

        .login-tab.member {
            background: #27ae60;
            color: white;
        }

        .login-tab.active {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .login-form {
            display: none;
        }

        .login-form.active {
            display: block;
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
        }

        .status-active {
            background: #27ae60;
            color: white;
        }

        .status-pending {
            background: #f39c12;
            color: white;
        }

        .status-suspended {
            background: #e74c3c;
            color: white;
        }

        .impersonate-btn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
            transition: all 0.3s;
        }

        .impersonate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.3);
        }

        .specializzazione-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
        }
    </style>
    <script>
        // Sistema di autenticazione e ruoli
        let currentUser = null;
        let isImpersonating = false;
        let originalUser = null;

        // Utenti predefiniti
        const users = {
            admin: {
                email: 'admin@consorzio.it',
                password: 'admin123',
                role: 'admin',
                name: 'Amministratore Consorzio',
                company: 'Direzione Generale'
            },
            member1: {
                email: 'rossi@rossisrl.it',
                password: 'member123',
                role: 'member',
                name: 'Marco Rossi',
                company: 'Rossi SRL',
                status: 'active',
                joinDate: '2024-01-15',
                phone: '+39 348 1234567',
                city: 'Milano'
            },
            member2: {
                email: 'bianchi@bianchiconsulting.it',
                password: 'member123',
                role: 'member',
                name: 'Laura Bianchi',
                company: 'Bianchi Consulting',
                status: 'active',
                joinDate: '2024-02-20',
                phone: '+39 347 9876543',
                city: 'Roma'
            },
            member3: {
                email: 'verdi@verdemanifatture.it',
                password: 'member123',
                role: 'member',
                name: 'Giuseppe Verdi',
                company: 'Verde Manifatture',
                status: 'pending',
                joinDate: '2024-08-10',
                phone: '+39 346 5555555',
                city: 'Torino'
            }
        };

        // Consulenti del consorzio
        let consulenti = {
            cons1: {
                id: 'cons1',
                name: 'Dott.ssa Maria Bianchi',
                specializzazione: 'SEO & Digital Marketing',
                categoria: 'marketing',
                qualifiche: 'MBA, Google Ads Certified, 15 anni esperienza',
                descrizione: 'Specialista in SEO, Google Ads, Social Media Marketing e posizionamento siti web per PMI.',
                disponibilita: '25 Set, 2 Ott',
                phone: '+39 072 1840410',
                email: 'maria.bianchi@consorzio.it'
            },
            cons2: {
                id: 'cons2',
                name: 'Ing. Andrea Rossi',
                specializzazione: 'Sviluppo Tecnico & ERP',
                categoria: 'tecnologia',
                qualifiche: 'Ingegnere Informatico, Microsoft Certified, 12 anni',
                descrizione: 'Gestionali aziendali ERP, sviluppo App, siti web, cyber sicurezza e digitalizzazione processi.',
                disponibilita: '25 Set, 15 Ott',
                phone: '+39 072 1840410',
                email: 'andrea.rossi@consorzio.it'
            },
            cons3: {
                id: 'cons3',
                name: 'Dott. Luca Verdi',
                specializzazione: 'Finanza Agevolata & Controllo',
                categoria: 'finanza',
                qualifiche: 'Dottore Commercialista, esperto bandi UE, 18 anni',
                descrizione: 'Bandi europei, finanziamenti agevolati, controllo di gestione, controllo contabile e tributario.',
                disponibilita: '2 Ott, 15 Ott',
                phone: '+39 072 1840410',
                email: 'luca.verdi@consorzio.it'
            },
            cons4: {
                id: 'cons4',
                name: 'Avv. Sara Neri',
                specializzazione: 'Diritto di Impresa',
                categoria: 'legale',
                qualifiche: 'Avvocato specializzato in diritto commerciale, 10 anni',
                descrizione: 'Consulenza contrattuale, diritto del lavoro, controversie legali e operazioni societarie.',
                disponibilita: '25 Set, 2 Ott',
                phone: '+39 072 1840410',
                email: 'sara.neri@consorzio.it'
            }
        };

        // Eventi del consorzio
        let events = [
            {
                id: 1,
                title: 'Assemblea Generale',
                date: '2025-09-25',
                time: '10:00',
                location: 'Sala conferenze',
                description: 'Discussione bilancio 2025 e strategie di crescita',
                participants: 12,
                createdBy: 'admin'
            },
            {
                id: 2,
                title: 'Workshop Innovazione Digitale',
                date: '2025-10-02',
                time: '15:00',
                location: 'Sede del Consorzio',
                description: 'Seminario su digitalizzazione aziendale e nuove tecnologie',
                participants: 8,
                createdBy: 'admin'
            },
            {
                id: 3,
                title: 'Networking Settore Tech',
                date: '2025-10-15',
                time: '18:00',
                location: 'Location da definire',
                description: 'Aperitivo networking per aziende tecnologiche del consorzio',
                participants: 27,
                createdBy: 'admin'
            }
        ];

        function switchLoginTab(tab) {
            document.querySelectorAll('.login-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.login-form').forEach(f => f.classList.remove('active'));
            
            document.querySelector(`.login-tab.${tab}`).classList.add('active');
            document.querySelector(`#${tab}Form`).classList.add('active');
        }

        function login(role) {
            const email = document.getElementById(`${role}Email`).value;
            const password = document.getElementById(`${role}Password`).value;
            
            // Trova l'utente
            const user = Object.values(users).find(u => u.email === email && u.password === password && u.role === role);
            
            if (user) {
                currentUser = user;
                if (role === 'admin') {
                    document.getElementById('admin-dashboard').checked = true;
                } else {
                    document.getElementById('member-dashboard').checked = true;
                }
                updateUserInfo();
                showNotification(`‚úÖ Accesso effettuato come ${user.name}`, 'success');
            } else {
                showNotification('‚ùå Credenziali non valide', 'error');
            }
        }

        function updateUserInfo() {
            const userInfoElements = document.querySelectorAll('.user-info');
            userInfoElements.forEach(el => {
                if (isImpersonating && originalUser) {
                    el.innerHTML = `üë§ ${currentUser.name} (üëÅÔ∏è Impersonificato da ${originalUser.name})`;
                } else {
                    el.innerHTML = `üë§ ${currentUser.name} (${currentUser.role === 'admin' ? 'Admin' : 'Membro'})`;
                }
            });
        }

        function logout() {
            currentUser = null;
            isImpersonating = false;
            originalUser = null;
            document.getElementById('login').checked = true;
            showNotification('üëã Disconnesso con successo', 'success');
        }

        function impersonateMember(memberKey) {
            if (currentUser.role !== 'admin') return;
            
            originalUser = currentUser;
            currentUser = users[memberKey];
            isImpersonating = true;
            
            document.getElementById('member-dashboard').checked = true;
            updateUserInfo();
            showNotification(`üëÅÔ∏è Ora stai visualizzando come ${currentUser.name}`, 'success');
        }

        function stopImpersonating() {
            if (!isImpersonating) return;
            
            currentUser = originalUser;
            originalUser = null;
            isImpersonating = false;
            
            document.getElementById('admin-dashboard').checked = true;
            updateUserInfo();
            showNotification('üîÑ Tornato alla vista amministratore', 'success');
        }

        function deleteMember(memberKey) {
            if (currentUser.role !== 'admin') return;
            
            if (confirm(`Sei sicuro di voler eliminare ${users[memberKey].name}?`)) {
                delete users[memberKey];
                showNotification('üóëÔ∏è Membro eliminato con successo', 'success');
                loadMembersPage();
            }
        }

        function deleteConsulente(consulenteId) {
            if (currentUser.role !== 'admin') return;
            
            if (confirm(`Sei sicuro di voler eliminare ${consulenti[consulenteId].name}?`)) {
                delete consulenti[consulenteId];
                showNotification('üóëÔ∏è Consulente eliminato con successo', 'success');
                loadConsulentiPage();
                updateConsulentiSection();
            }
        }

        function createMember() {
            if (currentUser.role !== 'admin') return;
            
            const name = document.getElementById('memberName').value;
            const email = document.getElementById('memberEmail').value;
            const password = document.getElementById('memberPassword').value;
            const company = document.getElementById('memberCompany').value;
            const phone = document.getElementById('memberPhone').value;
            const city = document.getElementById('memberCity').value;
            
            if (!name || !email || !password || !company) {
                showNotification('‚ö†Ô∏è Compila tutti i campi obbligatori!', 'warning');
                return;
            }
            
            // Controlla se email gi√† esiste
            const emailExists = Object.values(users).some(u => u.email === email);
            if (emailExists) {
                showNotification('‚ùå Email gi√† esistente!', 'error');
                return;
            }
            
            const memberKey = 'member' + Date.now();
            users[memberKey] = {
                email: email,
                password: password,
                role: 'member',
                name: name,
                company: company,
                status: 'active',
                joinDate: new Date().toISOString().split('T')[0],
                phone: phone || '',
                city: city || ''
            };
            
            document.getElementById('memberForm').reset();
            showNotification(`üéâ Membro "${name}" aggiunto con successo!`, 'success');
            
            setTimeout(() => {
                document.getElementById('admin-membri').checked = true;
                loadMembersPage();
            }, 2000);
        }

        function createConsulente() {
            if (currentUser.role !== 'admin') return;
            
            const name = document.getElementById('consulenteName').value;
            const specializzazione = document.getElementById('consulenteSpecializzazione').value;
            const categoria = document.getElementById('consulenteCategoria').value;
            const qualifiche = document.getElementById('consulenteQualifiche').value;
            const descrizione = document.getElementById('consulenteDescrizione').value;
            const phone = document.getElementById('consulentePhone').value;
            const email = document.getElementById('consulenteEmail').value;
            
            if (!name || !specializzazione || !categoria || !descrizione) {
                showNotification('‚ö†Ô∏è Compila tutti i campi obbligatori!', 'warning');
                return;
            }
            
            const consulenteId = 'cons' + Date.now();
            consulenti[consulenteId] = {
                id: consulenteId,
                name: name,
                specializzazione: specializzazione,
                categoria: categoria,
                qualifiche: qualifiche || '',
                descrizione: descrizione,
                disponibilita: 'Su appuntamento',
                phone: phone || '+39 072 1840410',
                email: email || 'info@consorzio.it'
            };
            
            document.getElementById('consulenteForm').reset();
            showNotification(`üéâ Consulente "${name}" aggiunto con successo!`, 'success');
            updateConsulentiSection();
            
            setTimeout(() => {
                document.getElementById('admin-consulenti').checked = true;
                loadConsulentiPage();
            }, 2000);
        }

        function createEvent() {
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const location = document.getElementById('eventLocation').value;
            const description = document.getElementById('eventDescription').value;
            
            if (!title || !date || !time || !location) {
                showNotification('‚ö†Ô∏è Compila tutti i campi obbligatori!', 'warning');
                return;
            }
            
            const newEvent = {
                id: Date.now(),
                title,
                date,
                time,
                location,
                description,
                participants: 0,
                createdBy: currentUser.email
            };
            
            events.push(newEvent);
            document.getElementById('eventForm').reset();
            showNotification(`üéâ Evento "${title}" creato con successo!`, 'success');
            
            setTimeout(() => {
                document.getElementById('admin-agenda').checked = true;
            }, 2000);
        }

        function deleteEvent(eventId) {
            if (currentUser.role !== 'admin') return;
            
            const eventIndex = events.findIndex(e => e.id === eventId);
            if (eventIndex > -1) {
                events.splice(eventIndex, 1);
                showNotification('üóëÔ∏è Evento eliminato con successo', 'success');
                loadAdminAgenda();
            }
        }

        function loadMembersPage() {
            const container = document.getElementById('membersContainer');
            container.innerHTML = '';
            
            Object.entries(users).forEach(([key, user]) => {
                if (user.role === 'member') {
                    const statusClass = user.status === 'active' ? 'status-active' : 
                                       user.status === 'pending' ? 'status-pending' : 'status-suspended';
                    
                    container.innerHTML += `
                        <div class="member-card">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div style="flex: 1;">
                                    <h3 style="color: #2c3e50; margin-bottom: 5px;">${user.name}</h3>
                                    <p style="color: #7f8c8d; margin-bottom: 5px;">${user.company}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">üìß ${user.email}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">üìû ${user.phone || 'Non specificato'}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">üìç ${user.city || 'Non specificata'}</p>
                                    <p style="color: #95a5a6; font-size: 12px;">üìÖ Iscritto: ${user.joinDate}</p>
                                </div>
                                <div style="text-align: right;">
                                    <span class="status-badge ${statusClass}">${user.status.toUpperCase()}</span>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="impersonate-btn" onclick="impersonateMember('${key}')">üëÅÔ∏è Visualizza come</button>
                                <button class="action-btn blue" onclick="editMember('${key}')">‚úèÔ∏è Modifica</button>
                                <button class="action-btn red" onclick="deleteMember('${key}')">üóëÔ∏è Elimina</button>
                            </div>
                        </div>
                    `;
                }
            });
        }

        function loadConsulentiPage() {
            const container = document.getElementById('consulentiContainer');
            container.innerHTML = '';
            
            Object.entries(consulenti).forEach(([key, consulente]) => {
                const categoriaColors = {
                    marketing: '#e74c3c',
                    tecnologia: '#3498db',
                    finanza: '#27ae60',
                    legale: '#8e44ad',
                    energia: '#f39c12',
                    sicurezza: '#e67e22',
                    servizi: '#95a5a6'
                };
                
                const borderColor = categoriaColors[consulente.categoria] || '#3498db';
                
                container.innerHTML += `
                    <div class="consulente-card" style="border-top: 4px solid ${borderColor};">
                        <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                            <div style="width: 60px; height: 60px; border-radius: 10px; background: linear-gradient(135deg, ${borderColor}, ${borderColor}dd); display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: bold;">${consulente.name.charAt(0)}</div>
                            <div style="flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 5px; font-size: 16px;">${consulente.name}</h3>
                                <div class="specializzazione-badge" style="background: linear-gradient(135deg, ${borderColor}, ${borderColor}dd);">${consulente.specializzazione}</div>
                                <p style="color: #7f8c8d; font-size: 12px; margin-bottom: 3px;">${consulente.qualifiche}</p>
                                <p style="color: #95a5a6; font-size: 12px;">üìû ${consulente.phone}</p>
                                <p style="color: #95a5a6; font-size: 12px;">üìß ${consulente.email}</p>
                            </div>
                        </div>
                        
                        <div style="background: ${borderColor}15; padding: 10px; border-radius: 8px; border-left: 4px solid ${borderColor}; margin-bottom: 15px; font-size: 13px;">
                            ${consulente.descrizione}
                        </div>
                        
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="action-btn blue" onclick="editConsulente('${key}')">‚úèÔ∏è Modifica</button>
                            <button class="action-btn red" onclick="deleteConsulente('${key}')">üóëÔ∏è Elimina</button>
                            <a href="https://wa.me/${consulente.phone.replace(/[^0-9]/g, '')}?text=Ciao,%20vorrei%20una%20consulenza%20con%20${encodeURIComponent(consulente.name)}" class="whatsapp-btn">üí¨ WhatsApp</a>
                        </div>
                    </div>
                `;
            });
        }

        function updateConsulentiSection() {
            // Aggiorna la sezione consulenti pubblica
            const publicContainer = document.getElementById('publicConsulentiContainer');
            if (publicContainer) {
                publicContainer.innerHTML = '';
                
                Object.entries(consulenti).forEach(([key, consulente]) => {
                    const categoriaColors = {
                        marketing: '#e74c3c',
                        tecnologia: '#3498db',
                        finanza: '#27ae60',
                        legale: '#8e44ad',
                        energia: '#f39c12',
                        sicurezza: '#e67e22',
                        servizi: '#95a5a6'
                    };
                    
                    const borderColor = categoriaColors[consulente.categoria] || '#3498db';
                    
                    publicContainer.innerHTML += `
                        <div class="consulente-card" data-categoria="${consulente.categoria}" style="border-top: 4px solid ${borderColor};">
                            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                                <div style="width: 60px; height: 60px; border-radius: 10px; background: linear-gradient(135deg, ${borderColor}, ${borderColor}dd); display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: bold;">${consulente.name.charAt(0)}</div>
                                <div style="flex: 1;">
                                    <h3 style="color: #2c3e50; margin-bottom: 5px; font-size: 16px;">${consulente.name}</h3>
                                    <div class="specializzazione-badge" style="background: linear-gradient(135deg, ${borderColor}, ${borderColor}dd);">${consulente.specializzazione}</div>
                                    <p style="color: #7f8c8d; font-size: 12px; margin-bottom: 3px;">${consulente.qualifiche}</p>
                                    <p style="color: #34495e; font-size: 12px;">üìÖ Disponibile: ${consulente.disponibilita}</p>
                                </div>
                            </div>
                            
                            <div style="background: ${borderColor}15; padding: 10px; border-radius: 8px; border-left: 4px solid ${borderColor}; margin-bottom: 15px; font-size: 13px;">
                                ${consulente.descrizione}
                            </div>
                            
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="action-btn" onclick="prenotaConsulenza('${consulente.name}', '${consulente.specializzazione}')">üìÖ Prenota Consulenza</button>
                                <a href="https://wa.me/${consulente.phone.replace(/[^0-9]/g, '')}?text=Vorrei%20prenotare%20consulenza%20con%20${encodeURIComponent(consulente.name)}" class="whatsapp-btn">üí¨ WhatsApp</a>
                            </div>
                        </div>
                    `;
                });
            }
        }

        function loadAdminAgenda() {
            const container = document.getElementById('adminEventsContainer');
            container.innerHTML = '';
            
            events.forEach(event => {
                container.innerHTML += `
                    <div class="event-item">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
                            <div>
                                <div class="event-date">${event.date}</div>
                                <h3 style="color: #2c3e50; margin-bottom: 5px;">${event.title}</h3>
                                <p style="color: #7f8c8d; font-size: 13px;">üïô ${event.time} - ${event.location}</p>
                                <p style="color: #34495e; font-size: 13px;">${event.description}</p>
                            </div>
                            <div style="text-align: right;">
                                <div style="background: #3498db; color: white; padding: 3px 8px; border-radius: 10px; font-size: 10px; font-weight: bold; margin-bottom: 5px;">
                                    üë• ${event.participants} partecipanti
                                </div>
                                <button class="action-btn red" onclick="deleteEvent(${event.id})" style="font-size: 11px; padding: 5px 10px;">üóëÔ∏è Elimina</button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function loadMemberAgenda() {
            const container = document.getElementById('memberEventsContainer');
            container.innerHTML = '';
            
            events.forEach(event => {
                container.innerHTML += `
                    <div class="event-item">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div class="event-date">${event.date}</div>
                            <div style="background: #3498db; color: white; padding: 3px 8px; border-radius: 10px; font-size: 10px; font-weight: bold;">
                                üë• ${event.participants} partecipanti
                            </div>
                        </div>
                        <div style="font-weight: bold; margin-bottom: 5px; color: #2c3e50;">${event.title}</div>
                        <div style="color: #6c757d; font-size: 13px; margin-bottom: 10px;">üïô ${event.time} - ${event.location}<br>${event.description}</div>
                        
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <button class="action-btn">‚úÖ Parteciper√≤</button>
                            <button class="action-btn red">‚ùå Non parteciper√≤</button>
                        </div>
                    </div>
                `;
            });
        }

        function prenotaConsulenza(nomeConsulente, specializzazione) {
            const eventi = [
                'Assemblea Generale - 25 Settembre 2025, ore 10:00',
                'Workshop Innovazione Digitale - 2 Ottobre 2025, ore 15:00',
                'Networking Settore Tech - 15 Ottobre 2025, ore 18:00'
            ];
            
            const eventoScelto = prompt(`üóìÔ∏è Scegli l'evento per la consulenza con ${nomeConsulente}:\n\n1Ô∏è‚É£ ${eventi[0]}\n2Ô∏è‚É£ ${eventi[1]}\n3Ô∏è‚É£ ${eventi[2]}\n\nScrivi 1, 2 o 3:`);
            
            if (eventoScelto && (eventoScelto === '1' || eventoScelto === '2' || eventoScelto === '3')) {
                const eventoSelezionato = eventi[parseInt(eventoScelto) - 1];
                
                showNotification(`‚úÖ Consulenza prenotata con ${nomeConsulente} durante: ${eventoSelezionato}`, 'success');
                
                // Invia WhatsApp di conferma
                const messaggio = `Ciao! Ho prenotato una consulenza con ${nomeConsulente} (${specializzazione}) durante l'evento: ${eventoSelezionato}. Confermi la disponibilit√†?`;
                window.open(`https://wa.me/390721840410?text=${encodeURIComponent(messaggio)}`, '_blank');
            } else if (eventoScelto !== null) {
                showNotification('‚ö†Ô∏è Selezione non valida. Scegli 1, 2 o 3.', 'warning');
            }
        }

        function filtraConsulenti() {
            const filtro = document.getElementById('filtroSpecializzazione').value;
            const consulenti = document.querySelectorAll('[data-categoria]');
            
            consulenti.forEach(card => {
                if (filtro === '' || card.dataset.categoria === filtro) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function showNotification(message, type) {
            const colors = {
                success: '#27ae60',
                error: '#e74c3c',
                warning: '#f39c12'
            };
            
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; 
                top: 20px; 
                right: 20px; 
                background: ${colors[type]}; 
                color: white; 
                padding: 15px; 
                border-radius: 10px; 
                z-index: 1000; 
                animation: slideIn 0.5s ease;
                max-width: 300px;
                font-size: 14px;
            `;
            notification.innerHTML = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Inizializza la pagina
        window.onload = function() {
            switchLoginTab('admin');
            updateConsulentiSection();
        };
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Navigation Inputs -->
        <input type="radio" name="nav" id="login" class="nav-input" checked>
        <input type="radio" name="nav" id="admin-dashboard" class="nav-input">
        <input type="radio" name="nav" id="member-dashboard" class="nav-input">
        <input type="radio" name="nav" id="admin-agenda" class="nav-input">
        <input type="radio" name="nav" id="admin-membri" class="nav-input">
        <input type="radio" name="nav" id="admin-consulenti" class="nav-input">
        <input type="radio" name="nav" id="admin-nuovo-evento" class="nav-input">
        <input type="radio" name="nav" id="admin-nuovo-membro" class="nav-input">
        <input type="radio" name="nav" id="admin-nuovo-consulente" class="nav-input">
        <input type="radio" name="nav" id="member-agenda" class="nav-input">
        <input type="radio" name="nav" id="albo" class="nav-input">
        <input type="radio" name="nav" id="bacheca" class="nav-input">
        <input type="radio" name="nav" id="video" class="nav-input">
        <input type="radio" name="nav" id="convenzioni" class="nav-input">
        <input type="radio" name="nav" id="consulenti" class="nav-input">
        <input type="radio" name="nav" id="progetti" class="nav-input">
        <input type="radio" name="nav" id="nuova-convenzione" class="nav-input">

        <div class="pages">
            <!-- Login Page -->
            <div id="loginPage" class="page">
                <div class="header">
                    <div class="logo">üè¢</div>
                    <h1>Consorzio Imprenditori</h1>
                    <p>Riuniamo imprenditori allo scopo di collaborare e crescere insieme</p>
                </div>
                
                <div class="login-container">
                    <h2 style="text-align: center; margin-bottom: 25px; color: #2c3e50;">Accedi al Consorzio</h2>
                    
                    <div class="login-tabs">
                        <div class="login-tab admin" onclick="switchLoginTab('admin')">
                            üîê AMMINISTRATORI
                        </div>
                        <div class="login-tab member" onclick="switchLoginTab('member')">
                            üë• MEMBRI
                        </div>
                    </div>

                    <!-- Admin Login Form -->
                    <div id="adminForm" class="login-form">
                        <div class="form-group">
                            <label>Email Amministratore</label>
                            <input type="email" id="adminEmail" value="admin@consorzio.it">
                        </div>
                        
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="adminPassword" value="admin123">
                        </div>
                        
                        <button class="btn" onclick="login('admin')" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">üîë ACCESSO AMMINISTRATORE</button>
                    </div>

                    <!-- Member Login Form -->
                    <div id="memberForm" class="login-form">
                        <div class="form-group">
                            <label>Email Membro</label>
                            <input type="email" id="memberEmail" value="rossi@rossisrl.it">
                        </div>
                        
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="memberPassword" value="member123">
                        </div>
                        
                        <button class="btn" onclick="login('member')" style="background: linear-gradient(135deg, #27ae60, #229954);">üîë ACCESSO MEMBRO</button>
                        
                        <div style="background: #e8f5e8; padding: 12px; margin-top: 15px; border-radius: 8px; border-left: 4px solid #27ae60;">
                            <h4 style="color: #2c3e50; margin-bottom: 8px;">üë• Credenziali di prova:</h4>
                            <p style="color: #34495e; font-size: 12px;">Email: rossi@rossisrl.it | Pass: member123</p>
                        </div>
                    </div>
                    
                    <div style="background: #e8f5e8; padding: 12px; margin-top: 15px; border-radius: 8px; border-left: 4px solid #3498db;">
                        <h4 style="color: #2c3e50; margin-bottom: 8px;">üéØ Sistema Completo</h4>
                        <p style="color: #34495e; font-size: 12px;">‚úÖ Pannello Admin: Gestione totale membri + consulenti</p>
                        <p style="color: #34495e; font-size: 12px;">‚úÖ Pannello Membri: Vista limitata alle proprie funzioni</p>
                    </div>
                </div>
            </div>

            <!-- Admin Dashboard Page -->
            <div id="adminDashboardPage" class="page">
                <div class="header">
                    <button onclick="logout()" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">Logout</button>
                    <div class="user-info">üë§ Amministratore</div>
                    <div class="logo">üîê</div>
                    <h1>Dashboard Amministratori</h1>
                    <p>Pannello di controllo completo del Consorzio</p>
                    <div style="margin-top: 10px;">
                        <button onclick="stopImpersonating()" id="stopImpersonateBtn" style="background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 11px; display: none;">üîÑ Torna alla vista Admin</button>
                    </div>
                </div>

                <div class="main-content">
                    <div class="admin-stats-box">
                        <h2 style="margin-bottom: 10px;">üîê Controllo Totale Consorzio</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;" id="totalMembers">3</div><div style="font-size: 11px;">Membri Attivi</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;" id="totalConsulenti">4</div><div style="font-size: 11px;">Consulenti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;" id="totalEvents2">3</div><div style="font-size: 11px;">Eventi Pianificati</div></div>
                        </div>
                    </div>
                    
                    <div class="dashboard-grid">
                        <label for="admin-agenda" class="nav-btn admin">
                            <div class="notification-dot">3</div>
                            <div class="card-icon">üìÖ</div>
                            <div class="card-title">GESTIONE AGENDA</div>
                        </label>

                        <label for="admin-membri" class="nav-btn admin">
                            <div class="notification-dot">3</div>
                            <div class="card-icon">üë•</div>
                            <div class="card-title">GESTIONE MEMBRI</div>
                        </label>

                        <label for="admin-consulenti" class="nav-btn admin">
                            <div class="notification-dot">4</div>
                            <div class="card-icon">üíº</div>
                            <div class="card-title">GESTIONE CONSULENTI</div>
                        </label>

                        <label for="albo" class="nav-btn admin">
                            <div class="card-icon">üìã</div>
                            <div class="card-title">ALBO ISCRITTI</div>
                        </label>

                        <label for="bacheca" class="nav-btn admin">
                            <div class="card-icon">üìå</div>
                            <div class="card-title">BACHECA</div>
                        </label>

                        <label for="video" class="nav-btn admin">
                            <div class="card-icon">üìπ</div>
                            <div class="card-title">VIDEO</div>
                        </label>

                        <label for="convenzioni" class="nav-btn admin">
                            <div class="card-icon">ü§ù</div>
                            <div class="card-title">CONVENZIONI</div>
                        </label>

                        <label for="progetti" class="nav-btn admin">
                            <div class="card-icon">üöÄ</div>
                            <div class="card-title">PROGETTI</div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Member Dashboard Page -->
            <div id="memberDashboardPage" class="page">
                <div class="header">
                    <button onclick="isImpersonating ? stopImpersonating() : logout()" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">üîô Esci</button>
                    <div class="user-info">üë§ Membro</div>
                    <div class="logo">üë•</div>
                    <h1>Dashboard Membri</h1>
                    <p>Benvenuto nella piattaforma riservata ai membri</p>
                </div>

                <div class="main-content">
                    <div class="member-stats-box">
                        <h2 style="margin-bottom: 10px;">üë• Area Riservata Membri</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">3</div><div style="font-size: 11px;">Eventi Disponibili</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">4</div><div style="font-size: 11px;">Consulenti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">2</div><div style="font-size: 11px;">Convenzioni Attive</div></div>
                        </div>
                    </div>
                    
                    <div class="dashboard-grid">
                        <label for="member-agenda" class="nav-btn member">
                            <div class="notification-dot">3</div>
                            <div class="card-icon">üìÖ</div>
                            <div class="card-title">AGENDA EVENTI</div>
                        </label>

                        <label for="albo" class="nav-btn member">
                            <div class="card-icon">üìã</div>
                            <div class="card-title">ALBO MEMBRI</div>
                        </label>

                        <label for="bacheca" class="nav-btn member">
                            <div class="card-icon">üìå</div>
                            <div class="card-title">BACHECA</div>
                        </label>

                        <label for="video" class="nav-btn member">
                            <div class="card-icon">üìπ</div>
                            <div class="card-title">VIDEO</div>
                        </label>

                        <label for="convenzioni" class="nav-btn member">
                            <div class="card-icon">ü§ù</div>
                            <div class="card-title">CONVENZIONI</div>
                        </label>

                        <label for="consulenti" class="nav-btn member">
                            <div class="card-icon">üíº</div>
                            <div class="card-title">CONSULENTI</div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Admin Agenda Page -->
            <div id="adminAgendaPage" class="page">
                <div class="header">
                    <label for="admin-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</label>
                    <div class="user-info">üë§ Admin</div>
                    <div class="logo">üìÖ</div>
                    <h1>Gestione Agenda (Admin)</h1>
                </div>
                <div class="page-content">
                    
                    <div style="background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 20px;">
                        <h2 style="margin-bottom: 10px;">üìÖ Controllo Totale Eventi</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;" id="totalEvents">3</div><div style="font-size: 11px;">Eventi Totali</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">47</div><div style="font-size: 11px;">Partecipanti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">Questo Mese</div></div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label for="admin-nuovo-evento" class="action-btn">üÜï Crea Nuovo Evento</label>
                        <button class="action-btn blue" onclick="loadAdminAgenda()">üîÑ Aggiorna Lista</button>
                    </div>
                    
                    <div id="adminEventsContainer">
                        <!-- Gli eventi vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Admin Nuovo Evento Page -->
            <div id="adminNuovoEventoPage" class="page">
                <div class="header">
                    <label for="admin-agenda" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Agenda</label>
                    <div class="user-info">üë§ Admin</div>
                    <div class="logo">üÜï</div>
                    <h1>Crea Nuovo Evento</h1>
                </div>
                <div class="page-content">
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
                        <h2 style="color: #2c3e50; margin-bottom: 20px; text-align: center; font-size: 20px;">üìÖ Nuovo Evento del Consorzio</h2>
                        
                        <form id="eventForm">
                            <div class="form-group">
                                <label>üéØ Titolo Evento</label>
                                <input type="text" id="eventTitle" placeholder="Es: Workshop Innovazione Digitale" required>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>üìÖ Data</label>
                                    <input type="date" id="eventDate" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>üïô Orario</label>
                                    <input type="time" id="eventTime" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>üìç Luogo</label>
                                <input type="text" id="eventLocation" placeholder="Es: Sede del Consorzio" required>
                            </div>
                            
                            <div class="form-group">
                                <label>üìù Descrizione</label>
                                <textarea id="eventDescription" placeholder="Descrivi l'evento..." style="min-height: 100px;" required></textarea>
                            </div>
                            
                            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                                <button type="button" onclick="createEvent()" class="action-btn">‚úÖ Crea Evento</button>
                                <label for="admin-agenda" class="action-btn" style="background: linear-gradient(135deg, #95a5a6, #7f8c8d); cursor: pointer;">‚ùå Annulla</label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Admin Membri Page -->
            <div id="adminMembriPage" class="page">
                <div class="header">
                    <label for="admin-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</label>
                    <div class="user-info">üë§ Admin</div>
                    <div class="logo">üë•</div>
                    <h1>Gestione Membri (Admin)</h1>
                </div>
                <div class="page-content">
                    
                    <div style="background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 20px;">
                        <h2 style="margin-bottom: 10px;">üë• Controllo Totale Membri</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">3</div><div style="font-size: 11px;">Membri Totali</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">2</div><div style="font-size: 11px;">Attivi</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">In Attesa</div></div>
                        </div>
                    </div>

                    <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 12px; border-radius: 8px; margin-bottom: 15px; font-size: 14px;">
                        <strong>üîê Funzioni Admin:</strong> Puoi visualizzare come qualsiasi membro e gestire i loro account
                    </div>

                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label for="admin-nuovo-membro" class="action-btn">üÜï Aggiungi Nuovo Membro</label>
                        <button class="action-btn blue" onclick="loadMembersPage()">üîÑ Aggiorna Lista Membri</button>
                    </div>
                    
                    <div id="membersContainer">
                        <!-- I membri vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Admin Nuovo Membro Page -->
            <div id="adminNuovoMembroPage" class="page">
                <div class="header">
                    <label for="admin-membri" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Membri</label>
                    <div class="user-info">üë§ Admin</div>
                    <div class="logo">üÜï</div>
                    <h1>Aggiungi Nuovo Membro</h1>
                </div>
                <div class="page-content">
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
                        <h2 style="color: #2c3e50; margin-bottom: 20px; text-align: center; font-size: 20px;">üë• Registra Nuovo Membro</h2>
                        
                        <form id="memberForm">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>üë§ Nome Completo</label>
                                    <input type="text" id="memberName" placeholder="Es: Marco Rossi" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>üè¢ Azienda</label>
                                    <input type="text" id="memberCompany" placeholder="Es: Rossi SRL" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>üìß Email</label>
                                <input type="email" id="memberEmail" placeholder="esempio@azienda.it" required>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>üîê Password</label>
                                    <input type="password" id="memberPassword" placeholder="Password di accesso" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>üìû Telefono</label>
                                    <input type="tel" id="memberPhone" placeholder="+39 348 1234567">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>üìç Citt√†</label>
                                <input type="text" id="memberCity" placeholder="Es: Milano">
                            </div>
                            
                            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                                <button type="button" onclick="createMember()" class="action-btn">‚úÖ Aggiungi Membro</button>
                                <label for="admin-membri" class="action-btn" style="background: linear-gradient(135deg, #95a5a6, #7f8c8d); cursor: pointer;">‚ùå Annulla</label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Admin Consulenti Page -->
            <div id="adminConsulentiPage" class="page">
                <div class="header">
                    <label for="admin-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</label>
                    <div class="user-info">üë§ Admin</div>
                    <div class="logo">üíº</div>
                    <h1>Gestione Consulenti (Admin)</h1>
                </div>
                <div class="page-content">
                    
                    <div style="background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 20px;">
                        <h2 style="margin-bottom: 10px;">üíº Controllo Totale Consulenti</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">4</div><div style="font-size: 11px;">Consulenti Totali</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">7</div><div style="font-size: 11px;">Specializzazioni</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">10</div><div style="font-size: 11px;">Consulenze Mensili</div></div>
                        </div>
                    </div>

                    <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 12px; border-radius: 8px; margin-bottom: 15px; font-size: 14px;">
                        <strong>üîê Funzioni Admin:</strong> Gestisci i consulenti del consorzio e le loro specializzazioni
                    </div>

                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label for="admin-nuovo-consulente" class="action-btn">üÜï Aggiungi Nuovo Consulente</label>
                        <button class="action-btn blue" onclick="loadConsulentiPage()">üîÑ Aggiorna Lista</button>
                    </div>
                    
                    <div id="consulentiContainer">
                        <!-- I consulenti vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Admin Nuovo Consulente Page -->
            <div id="adminNuovoConsulentePage" class="page">
                <div class="header">
                    <label for="admin-consulenti" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Consulenti</label>
                    <div class="user-info">üë§ Admin</div>
                    <div class="logo">üÜï</div>
                    <h1>Aggiungi Nuovo Consulente</h1>
                </div>
                <div class="page-content">
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
                        <h2 style="color: #2c3e50; margin-bottom: 20px; text-align: center; font-size: 20px;">üíº Registra Nuovo Consulente</h2>
                        
                        <form id="consulenteForm">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>üë§ Nome Completo</label>
                                    <input type="text" id="consulenteName" placeholder="Es: Dott. Mario Rossi" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>üéØ Specializzazione</label>
                                    <input type="text" id="consulenteSpecializzazione" placeholder="Es: Marketing Digitale" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>üìÇ Categoria</label>
                                <select id="consulenteCategoria" required>
                                    <option value="">Seleziona categoria</option>
                                    <option value="marketing">üéØ Marketing & Comunicazione</option>
                                    <option value="tecnologia">üíª Tecnologia & Sviluppo</option>
                                    <option value="finanza">üí∞ Finanza & Controllo</option>
                                    <option value="legale">‚öñÔ∏è Consulenza Legale</option>
                                    <option value="energia">‚ö° Energia & Ambiente</option>
                                    <option value="sicurezza">üõ°Ô∏è Sicurezza & Medicina del Lavoro</option>
                                    <option value="servizi">üîß Servizi Tecnici</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>üéì Qualifiche</label>
                                <input type="text" id="consulenteQualifiche" placeholder="Es: MBA, Certificazioni, anni di esperienza">
                            </div>
                            
                            <div class="form-group">
                                <label>üìù Descrizione Servizi</label>
                                <textarea id="consulenteDescrizione" placeholder="Descrivi i servizi offerti dal consulente..." style="min-height: 100px;" required></textarea>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div class="form-group">
                                    <label>üìû Telefono</label>
                                    <input type="tel" id="consulentePhone" placeholder="+39 072 1840410">
                                </div>
                                
                                <div class="form-group">
                                    <label>üìß Email</label>
                                    <input type="email" id="consulenteEmail" placeholder="consulente@consorzio.it">
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                                <button type="button" onclick="createConsulente()" class="action-btn">‚úÖ Aggiungi Consulente</button>
                                <label for="admin-consulenti" class="action-btn" style="background: linear-gradient(135deg, #95a5a6, #7f8c8d); cursor: pointer;">‚ùå Annulla</label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Member Agenda Page -->
            <div id="memberAgendaPage" class="page">
                <div class="header">
                    <label for="member-dashboard" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</label>
                    <div class="user-info">üë§ Membro</div>
                    <div class="logo">üìÖ</div>
                    <h1>Agenda Eventi</h1>
                </div>
                <div class="page-content">
                    
                    <div style="background: linear-gradient(135deg, #27ae60, #229954); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 20px;">
                        <h2 style="margin-bottom: 10px;">üìÖ Eventi del Consorzio</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;">3</div><div style="font-size: 11px;">Eventi Disponibili</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">1</div><div style="font-size: 11px;">Questo Mese</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">47</div><div style="font-size: 11px;">Partecipanti Totali</div></div>
                        </div>
                    </div>

                    <button class="action-btn" onclick="loadMemberAgenda()" style="margin-bottom: 20px;">üîÑ Aggiorna Eventi</button>
                    
                    <div id="memberEventsContainer">
                        <!-- Gli eventi vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Consulenti Page (Pubblica) -->
            <div id="consulentiPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</button>
                    <div class="user-info">üë§ User</div>
                    <div class="logo">üíº</div>
                    <h1>Consulenti del Consorzio</h1>
                </div>
                <div class="page-content">
                    
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center; margin-bottom: 20px; border: 2px solid #9b59b6;">
                        <h3 style="color: #9b59b6; margin-bottom: 10px;">üìû Contatto Diretto Consorzio</h3>
                        <div style="font-size: 20px; font-weight: bold; color: #2c3e50; margin: 8px 0;">0721 - 1840410</div>
                        <p style="margin: 0; font-size: 12px;">Per informazioni generali e assistenza immediata</p>
                    </div>

                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 20px;">
                        <h2 style="margin-bottom: 10px;">üíº Network Consulenti Specializzati</h2>
                        <div style="display: flex; justify-content: center; gap: 25px; margin-top: 10px; flex-wrap: wrap;">
                            <div><div style="font-size: 20px; font-weight: bold;" id="totalConsulentiPublic">4</div><div style="font-size: 11px;">Consulenti</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">10</div><div style="font-size: 11px;">Consulenze Incluse</div></div>
                            <div><div style="font-size: 20px; font-weight: bold;">7</div><div style="font-size: 11px;">Specializzazioni</div></div>
                        </div>
                    </div>

                    <div class="notification-item">
                        <strong>‚ú® Novit√†:</strong> 10 consulenze iniziali gratuite incluse nella tessera annuale - Prenota agli incontri mensili!
                    </div>

                    <!-- Filtro Specializzazioni -->
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">üîç Filtra per Specializzazione</h4>
                        <select id="filtroSpecializzazione" style="width: 100%; padding: 8px; border: 2px solid #ddd; border-radius: 8px;" onchange="filtraConsulenti()">
                            <option value="">Tutte le specializzazioni</option>
                            <option value="marketing">Marketing & Comunicazione</option>
                            <option value="tecnologia">Tecnologia & Sviluppo</option>
                            <option value="finanza">Finanza & Controllo</option>
                            <option value="legale">Consulenza Legale</option>
                            <option value="energia">Energia & Ambiente</option>
                            <option value="sicurezza">Sicurezza & Medicina del Lavoro</option>
                            <option value="servizi">Servizi Tecnici</option>
                        </select>
                    </div>
                    
                    <div id="publicConsulentiContainer">
                        <!-- I consulenti vengono caricati dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Altre pagine semplificate -->
            <div id="alboPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</button>
                    <div class="user-info">üë§ User</div>
                    <div class="logo">üë•</div>
                    <h1>Albo Iscritti</h1>
                </div>
                <div class="page-content">
                    
                    <div class="stats-box">
                        <h2>üë• Directory Aziende Associate</h2>
                        <div style="display: flex; justify-content: center; gap: 30px; margin-top: 15px; flex-wrap: wrap;">
                            <div><div style="font-size: 24px; font-weight: bold;">3</div><div style="font-size: 12px;">Aziende</div></div>
                            <div><div style="font-size: 24px; font-weight: bold;">96</div><div style="font-size: 12px;">Dipendenti</div></div>
                            <div><div style="font-size: 24px; font-weight: bold;">‚Ç¨9.3M</div><div style="font-size: 12px;">Fatturato</div></div>
                        </div>
                    </div>

                    <div class="card">
                        <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
                            <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #007bff, #0056b3); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 24px;">R</div>
                            <div style="flex: 1;">
                                <h3 style="color: #2c3e50; margin-bottom: 5px;">Rossi SRL - Tecnologia</h3>
                                <p style="color: #6c757d; font-size: 14px;">üìç Milano | üë• 24 dipendenti | ‚Ç¨2.1M</p>
                                <p style="color: #6c757d; font-size: 13px;">Sviluppo software, consulenza IT, digitalizzazione processi</p>
                            </div>
                            <a href="https://wa.me/393481234567?text=Ciao,%20sono%20interessato%20ai%20servizi%20di%20Rossi%20SRL" class="whatsapp-btn">üí¨ WhatsApp</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Placeholder per altre pagine -->
            <div id="bachecaPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</button>
                    <div class="user-info">üë§ User</div>
                    <div class="logo">üìã</div>
                    <h1>Bacheca</h1>
                </div>
                <div class="page-content">
                    <h2>üìã Bacheca - In sviluppo</h2>
                    <p>Questa sezione √® in fase di sviluppo.</p>
                </div>
            </div>

            <div id="videoPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</button>
                    <div class="user-info">üë§ User</div>
                    <div class="logo">üìπ</div>
                    <h1>Video Interviste</h1>
                </div>
                <div class="page-content">
                    <h2>üìπ Video - In sviluppo</h2>
                    <p>Questa sezione √® in fase di sviluppo.</p>
                </div>
            </div>

            <div id="convenzioniPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</button>
                    <div class="user-info">üë§ User</div>
                    <div class="logo">ü§ù</div>
                    <h1>Convenzioni</h1>
                </div>
                <div class="page-content">
                    <h2>ü§ù Convenzioni - In sviluppo</h2>
                    <p>Questa sezione √® in fase di sviluppo.</p>
                </div>
            </div>

            <div id="progettiPage" class="page">
                <div class="header">
                    <button onclick="currentUser && currentUser.role === 'admin' ? (document.getElementById('admin-dashboard').checked = true) : (document.getElementById('member-dashboard').checked = true)" style="position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.2); border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 12px;">‚Üê Dashboard</button>
                    <div class="user-info">üë§ User</div>
                    <div class="logo">üöÄ</div>
                    <h1>Progetti</h1>
                </div>
                <div class="page-content">
                    <h2>üöÄ Progetti - In sviluppo</h2>
                    <p>Questa sezione √® in fase di sviluppo.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Carica i dati quando necessario
        setTimeout(() => {
            if (document.getElementById('admin-membri').checked) {
                loadMembersPage();
            }
            if (document.getElementById('admin-consulenti').checked) {
                loadConsulentiPage();
            }
            if (document.getElementById('admin-agenda').checked) {
                loadAdminAgenda();
            }
            if (document.getElementById('member-agenda').checked) {
                loadMemberAgenda();
            }
        }, 100);
    </script>
</body>
</html>
